{"version":3,"sources":["webpack:///./src/pages/article/index/index.vue?df5b","webpack:///src/pages/article/index/index.vue","webpack:///./src/pages/article/index/index.vue?3f3a","webpack:///./src/pages/article/index/index.vue","webpack:///./src/pages/article/index/index.vue?eec1"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","ENV","app","_e","_v","_s","res","title","attrs","src","makeFileUrl","bigcover","cover","alt","directives","name","rawName","value","selector","expression","domProps","innerHTML","content","html","on","click","$event","openClick","subjectList","hotSubjects","preview-src","preSrc","preview-show","preShow","listenToMyChild","isDelete","bool_delete","staticRenderFns","indexvue_type_script_lang_js_","components","DownloadBar","downloadBar","FootBar","footBar","Notfound","notfound","FocusBar","focusBar","LikeBar","likeBar","MessageBoard","messageBoard","FeedList","feedList","AuthorBar","authorBar","PreviewList","previewList","data","defaultImg","vid","video","playIconTimer","computed","Object","objectSpread","vuex_esm","state","methods","fetch","_fetch","asyncToGenerator","regeneratorRuntime","mark","_callee","wrap","_context","prev","next","console","log","fetch_content","$route","params","stop","apply","arguments","clickImg","e","target","dataset","index","utils","clickImgOuter","event","classList","uid","url","length","undefined","decodeURI","somedata","mounted","_mounted","_callee2","_context2","query","code","plateform","protocol","adid","Cookies","get","getUserInfoWithWx","$store","dispatch","id","getHotSubjects","article_indexvue_type_script_lang_js_","component","componentNormalizer","options","__file","__webpack_exports__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_10_oneOf_1_0_node_modules_css_loader_index_js_ref_10_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_lib_index_js_ref_10_oneOf_1_2_node_modules_less_loader_dist_cjs_js_ref_10_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_index_vue_vue_type_style_index_0_id_4b549078_scoped_true_lang_less___WEBPACK_IMPORTED_MODULE_0__","__webpack_require__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_10_oneOf_1_0_node_modules_css_loader_index_js_ref_10_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_lib_index_js_ref_10_oneOf_1_2_node_modules_less_loader_dist_cjs_js_ref_10_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_index_vue_vue_type_style_index_0_id_4b549078_scoped_true_lang_less___WEBPACK_IMPORTED_MODULE_0___default","n"],"mappings":"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","file":"js/chunk-505390d6.22b44ffa.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[(_vm.exist)?_c('section',{staticClass:\"article\"},[_c('download-bar'),_c('section',{staticClass:\"article-wrap\"},[_c('section',{staticClass:\"article-container bg-f\"},[(!_vm.ENV.app)?_c('section',{staticClass:\"article-title\"},[_vm._v(\" \"+_vm._s(_vm.res.title)+\" \")]):_vm._e(),_c('focus-bar',{staticClass:\"focus-bar\"}),_c('div',{staticClass:\"article-cover-box\"},[_c('img',{staticClass:\"article-cover-img\",attrs:{\"src\":_vm.makeFileUrl(_vm.res.bigcover || _vm.res.cover),\"alt\":\"\"}})]),_c('section',{directives:[{name:\"lazy-container\",rawName:\"v-lazy-container\",value:({ selector: 'img' }),expression:\"{ selector: 'img' }\"}],staticClass:\"content article-content\",domProps:{\"innerHTML\":_vm._s(_vm.content.html)},on:{\"click\":function($event){_vm.openClick($event)}}}),_c('author-bar')],1),_c('like-bar',{staticClass:\"like-bar\"}),_c('feed-list',{attrs:{\"subjectList\":_vm.hotSubjects}}),_c('message-board'),_c('foot-bar'),_c('preview-list',{attrs:{\"preview-src\":_vm.preSrc,\"preview-show\":_vm.preShow},on:{\"preview-show\":_vm.listenToMyChild}})],1)],1):_c('Notfound',{attrs:{\"isDelete\":_vm.res.bool_delete}})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div>\n  \n    <section class=\"article\" v-if=\"exist\">\n      <!-- 下载条 -->\n      <download-bar></download-bar>\n      <!-- 帖子内容 -->\n      <!-- res.int_type==2长图文。int_category=== 3神议论 1是征稿 -->\n      <section class=\"article-wrap\">\n        <section class=\"article-container bg-f\">\n          <!-- 标题 -->\n          <section class=\"article-title\" v-if=\"!ENV.app\"> {{ res.title }} </section>\n          <!-- 关注bar -->\n          <focus-bar class=\"focus-bar\"></focus-bar>\n          <div class=\"article-cover-box\">\n            <img :src=\"makeFileUrl(res.bigcover || res.cover)\" alt=\"\" class=\"article-cover-img\">\n          </div>\n          <!-- 暂时隐藏 -->\n          <!-- <section class=\"feeder-cover flex flex-align-center\" v-if=\"!GET_MESSAGE_STATE\">\n                                    <span> {{ $com.getCommonTime(res.long_publish_time, 'yy-mm-dd hh:MM') }}</span>\n                                  </section> -->\n          <section class=\"content article-content\" v-html=\"content.html\" v-lazy-container=\"{ selector: 'img' }\" @click=\"openClick($event)\">\n          </section>\n          <author-bar></author-bar>\n        </section>\n        <!-- 阅读 喜欢 -->\n        <like-bar class=\"like-bar\"></like-bar>\n        <!-- 热门文章 -->\n        <feed-list :subjectList=\"hotSubjects\"></feed-list>\n        <!-- 留言板 -->\n        <message-board></message-board>\n        <!-- 底部Bar -->\n        <foot-bar></foot-bar>\n        <preview-list :preview-src=\"preSrc\" :preview-show=\"preShow\" v-on:preview-show=\"listenToMyChild\"></preview-list>\n  \n      </section>\n    </section>\n    <Notfound v-else :isDelete=\"res.bool_delete\"></Notfound>\n  </div>\n</template>\n\n<script>\n  import Cookie from \"js-cookie\";\n  import {\n    mapState,\n    mapActions,\n    mapMutations\n  } from 'vuex'\n  \n  import {\n    appPlayVideo,\n    tabImg,\n    makeFileUrl\n  } from \"../../../utils\";\n  import Notfound from '../../../components/error/notfound'\n  import DownloadBar from '../../../components/downloadBar'\n  import FootBar from '../../../components/footBar'\n  import FocusBar from '../../../components/focusBar'\n  import LikeBar from '../../../components/likeBar'\n  import MessageBoard from '../../../components/messageBoard'\n  import FeedList from '../../../components/feedList'\n  import AuthorBar from '../../../components/authorBar'\n  import PreviewList from '../../../components/previewList'\n  \n  export default {\n    name: \"Feed\",\n    components: {\n      DownloadBar,\n      FootBar,\n      Notfound,\n      FocusBar,\n      LikeBar,\n      MessageBoard,\n      FeedList,\n      AuthorBar,\n      PreviewList\n    },\n    data() {\n      return {\n        defaultImg: \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAu4AAAGmAQMAAAAZMJMVAAAABGdBTUEAALGPC/xhBQAAAAFzUkdCAK7OHOkAAAADUExURefn5ySG6Q8AAAA+SURBVHja7cExAQAAAMKg9U9tCj+gAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACAvwGcmgABBZ8R+wAAAABJRU5ErkJggg==\",\n        vid: \"\",\n        video: {},\n        playIconTimer: null,\n        preSrc: \"\",\n        preShow: false\n      };\n    },\n    computed: {\n      ...mapState(\"article\", [\n        'res',\n        'content',\n        'GET_MESSAGE_STATE',\n        'version_1_2',\n        'agent',\n        'exist'\n      ]),\n      ...mapState(\"common\", {\n        hotSubjects: state => state.hotSubjects,\n      })\n    },\n    methods: {\n      ...mapActions(\"article\", ['fetch_content']),\n      ...mapMutations(\"article\", ['GET_USER_AGENT']),\n      ...mapActions(\"common\", [\n        \"getHotSubjects\",\n        'getUserInfoWithWx'\n      ]),\n      // ...mapActions(\"comment\", [\n      //   \"getSubject\"\n      // ]),\n      async fetch() {\n        console.log('fetch')\n        await this.fetch_content(this.$route.params)\n      },\n      clickImg(e) {\n        let target = e.target;\n        if (ENV.app && target.dataset.index) {\n          tabImg(target.dataset.index);\n        } else if (target.dataset.src) {\n          this.clickImgOuter(target.dataset.src)\n        }\n      },\n      clickImgOuter(src) {\n        this.preSrc = src;\n        this.preShow = true;\n      },\n      // 在app端 长图文贴子 打开原生视频\n      openClick(event) {\n        const target = event.target,\n          classList = target.classList;\n        // if (classList.contains('video-play-icon')) {\n        //   if (window.ENV.app) {\n        //     if (!(target.dataset.vid || target.dataset.uid)) {\n        //       return;\n        //     }\n        //     appPlayVideo(\n        //       target.dataset.uid,\n        //       target.dataset.vid\n        //     );\n        //   } else {\n        //     let parentNode = target.parentNode,\n        //       video = parentNode.querySelector('video');\n        //     if (video.paused) {\n        //       video.play();\n        //       target.style.display = 'none';\n        //       target.classList.add('pause');\n        //     } else {\n        //       video.pause();\n        //       clearTimeout(this.playIconTimer);\n        //       target.classList.remove('pause');\n        //     }\n        //   }\n        // } else if (classList.contains('video-wrap') || classList.contains('video-tag')) {\n        //   let parentNode = target;\n        //   if (classList.contains('video-tag')) {\n        //     parentNode = target.parentNode;\n        //   }\n        //   const playIcon = parentNode.querySelector('.video-play-icon'),\n        //     video = parentNode.querySelector('video');\n        //     console.log(video.paused,playIcon.style.display);\n        //   if (!video.paused && playIcon.style.display == 'none') {\n        //     playIcon.style.display = 'block';\n        //     this.playIconTimer = setTimeout(() => {\n        //       this.playIconTimer = null;\n        //       playIcon.style.display = 'none';\n        //     }, 2e3)\n        //   }\n  \n        // }\n        if (ENV.app && target.dataset.vid && target.dataset.uid) {\n          appPlayVideo(\n            target.dataset.uid,\n            target.dataset.vid\n          );\n        } else if (target.dataset.index ) { //app内部点击图片\n          this.clickImg(event);\n        } else if (target.dataset.src && !ENV.app) {\n          this.clickImgOuter(target.dataset.src)\n        }\n      },\n      makeFileUrl(url = '') {\n        console.log('url', decodeURI(url))\n        return makeFileUrl(url)\n      },\n      listenToMyChild(somedata) {\n        this.preShow = somedata;\n      },\n    },\n    async mounted() {\n      // this.GET_USER_AGENT({\n      //   nvg: navigator.userAgent,\n      //   ref: location.pathname\n      // });\n      if (this.$route.query.code) {\n        let params = {\n          plateform: 2,\n          code: this.$route.query.code,\n          protocol: \"WEB_SOCKET\",\n          adid: Cookies.get('h5Adid') || 'closer-t1'\n        }\n        console.log('params---', params)\n        this.getUserInfoWithWx(params)\n      }\n      await this.fetch();\n      this.$store.dispatch('wx_config');\n      console.log('params.id:', this.$route.params.id)\n      this.getHotSubjects()\n    }\n  };\n</script>\n\n<style scoped lang=\"less\">\n  @import \"../assets/style/article.less\";\n</style>\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./index.vue?vue&type=template&id=4b549078&scoped=true&\"\nimport script from \"./index.vue?vue&type=script&lang=js&\"\nexport * from \"./index.vue?vue&type=script&lang=js&\"\nimport style0 from \"./index.vue?vue&type=style&index=0&id=4b549078&scoped=true&lang=less&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"4b549078\",\n  null\n  \n)\n\ncomponent.options.__file = \"index.vue\"\nexport default component.exports","import mod from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../../node_modules/css-loader/index.js??ref--10-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/lib/index.js??ref--10-oneOf-1-2!../../../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=style&index=0&id=4b549078&scoped=true&lang=less&\"; export default mod; export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../../node_modules/css-loader/index.js??ref--10-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/lib/index.js??ref--10-oneOf-1-2!../../../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=style&index=0&id=4b549078&scoped=true&lang=less&\""],"sourceRoot":""}