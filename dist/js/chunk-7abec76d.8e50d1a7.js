(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-7abec76d"],{"26a9":function(t,e,s){"use strict";var i=function(){var t=this,e=t.$createElement,s=t._self._c||e;return t.ENV.app?t._e():s("div",{staticClass:"feed"},[s("div",{staticClass:"head"},[t._v(t._s(t.title))]),t._l(t.subjectList,function(e,i){return s("div",{key:i,staticClass:"feed-content",on:{click:function(s){t.downloadApp(s,"hot_feed",e.subjectid)}}},[s("div",{staticClass:"wrap"},[s("div",{staticClass:"middle"},[s("div",{staticClass:"cover"},[2===e.int_type?s("div",{staticClass:"feed-title"},[t._v(t._s(e.title))]):s("div",{staticClass:"feed-title"},[t._v(t._s(e.content.text))]),2===e.int_type&&e.cover?s("div",{directives:[{name:"lazy",rawName:"v-lazy:background-image",value:t.fileUrlParse(e.cover),expression:"fileUrlParse(item.cover)",arg:"background-image"}],staticClass:"feed-cover"}):0===e.int_type&&e.content.images&&e.content.images.length>0?s("div",{directives:[{name:"lazy",rawName:"v-lazy:background-image",value:t.fileUrlParse(e.cover||e.content.images[0].link),expression:"fileUrlParse(item.cover || item.content.images[0].link)",arg:"background-image"}],staticClass:"feed-cover"},[s("div",{staticClass:"image-num"},[t._v(t._s(e.content.images.length)+"图")])]):1===e.int_type?s("div",{directives:[{name:"lazy",rawName:"v-lazy:background-image",value:e.content.videos[0].imageUrl,expression:"item.content.videos[0].imageUrl",arg:"background-image"}],staticClass:"feed-cover"},[s("div",{staticClass:"play-icon"})]):t._e()])]),s("div",{staticClass:"bottom"},[s("label",{staticClass:"name"},[t._v(t._s(e.communityName))]),0!=e.commentNumber?s("label",{staticClass:"community-count"},[t._v(t._s(e.commentNumber)+"评论")]):t._e(),0!=e.commentNumber&&0!=e.like?s("label",[t._v("·")]):t._e(),0!=e.like?s("label",{staticClass:"like-count"},[t._v(t._s(e.like)+"赞")]):t._e(),s("label",{staticClass:"date"},[t._v(t._s(t.dateFormate(e.long_publish_time)))])])])])}),s("div")],2)},r=[],a=s("ed08"),o=s("f121"),n={name:"feedList",data:function(){return{}},props:{subjectList:{type:Array,default:function(){return[]}},title:{type:String,default:"热门文章"}},computed:{},methods:{dateFormate:function(t,e){return Object(a["c"])(t)},fileUrlParse:function(t,e,s){return Object(a["f"])(t,e,s)},downloadApp:function(t,e,s){var i="".concat(o["a"].download,"&link=closer://feed/").concat(s);console.log("redirectUrl",i),Object(a["d"])({store:this.$store,route:this.$route,str:e,defaultStr:"",redirectUrl:i})}}},c=n,u=(s("8096"),s("2877")),l=Object(u["a"])(c,i,r,!1,null,"26229b20",null);l.options.__file="feedList.vue";e["a"]=l.exports},3734:function(t,e,s){"use strict";var i=s("6db7"),r=s.n(i);r.a},"6db7":function(t,e,s){},"70cd":function(t,e,s){},8096:function(t,e,s){"use strict";var i=s("898a"),r=s.n(i);r.a},"898a":function(t,e,s){},"90ab":function(t,e,s){"use strict";s.r(e);var i=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"group"},[t.showDownload?s("div",{staticClass:"group-dl"},[s("div",{staticClass:"dl-hd"},[s("div",{staticClass:"hd-succ"}),s("p",{staticClass:"hd-msg"},[t._v(t._s(t.msg))])]),t._m(2),s("div",{staticClass:"dl-ft"},[s("div",{staticClass:"ft-logo"}),t._m(3),s("div",{staticClass:"ft-btn",on:{click:t.handleDownload}},[t._v("立即前往")])])]):s("div",[s("downloadBar"),t.group.group_info&&t.group.group_user_count?s("div",{staticClass:"member"},[s("div",{staticClass:"title"},[t._v("群组成员 "+t._s(t.group.group_user_count))]),s("ul",{staticClass:"member-icons"},[s("li",{staticClass:"head"},[s("img",{directives:[{name:"lazy",rawName:"v-lazy",value:t.fileUrlParse(t.group.group_info.group.attributes.monitor.user.avatar),expression:"fileUrlParse(group.group_info.group.attributes.monitor.user.avatar)"}],staticClass:"icon"}),t._m(0),s("div",{staticClass:"name"},[t._v(t._s(t.group.group_info.group.attributes.monitor.user.fullname))])]),t._l(t.group.group_user_info,function(e,i){return i<4?s("li",{key:i,staticClass:"head"},[s("img",{directives:[{name:"lazy",rawName:"v-lazy",value:t.fileUrlParse(e.props.roster.avatar),expression:"fileUrlParse(item.props.roster.avatar)"}],staticClass:"icon"}),s("div",{staticClass:"name"},[t._v(t._s(e.props.roster.name))])]):t._e()})],2),t.group.group_user_count>5?s("div",{staticClass:"more-member",on:{click:t.moreMember}},[t._v("查看更多群成员"),s("i",{staticClass:"arrow"})]):t._e()]):t._e(),t.group.group_info&&t.description()?s("div",{staticClass:"description"},[s("div",{staticClass:"desc"},[t._v("群简介")]),s("div",{staticClass:"desc-content"},[t._v(t._s(t.description()))])]):t._e(),t.group.group_info&&t.announcement()?s("div",{staticClass:"topic"},[t._m(1),s("div",{staticClass:"topic-content"},[t._v(t._s(t.announcement()))])]):t._e(),s("div",{staticClass:"split-box"}),t.groupFeedList&&t.groupFeedList.length>0?s("div",{staticClass:"group-info",on:{click:function(e){t.toCommunity(t.group.group_info.communityid)}}},[s("span",{staticClass:"title"},[t._v("所属贴近号")]),s("img",{directives:[{name:"lazy",rawName:"v-lazy",value:t.groupFeedList[0].blogo,expression:"groupFeedList[0].blogo"}],staticClass:"icon"}),s("span",{staticClass:"name"},[t._v(t._s(t.groupFeedList[0].communityName))]),s("i",{staticClass:"arrow-right right"})]):t._e(),s("div",{staticClass:"split-box"}),s("feedlist",{attrs:{subjectList:t.groupFeedList,title:t.groupFeedTitle}}),s("div",{staticClass:"group-ft"},[s("div",{staticClass:"group-btn",on:{click:t.handleJoinGroup}},[1===t.loading?s("spinner",{staticStyle:{"margin-right":"5px"},attrs:{size:16,type:"fading-circle",color:"#495060"}}):t._e(),s("span",[t._v("进入群组")])],1)])],1)])},r=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("p",{staticClass:"owner"},[s("span",[t._v("群主")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"current-topic"},[t._v("当前话题 "),s("i",{staticClass:"arrow-right"})])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"dl-bd"},[s("div",{staticClass:"bd-img"}),s("p",{staticClass:"bd-tip"},[t._v("新用户请下载app，并以微信登录")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"ft-content"},[s("div",{staticClass:"ft-title"},[t._v("下载「贴近」客户端")]),s("div",{staticClass:"ft-desc"},[t._v("贴近一点 看身边")])])}],a=(s("96cf"),s("3040")),o=s("c93e"),n=s("fb25"),c=s("26a9"),u=s("ed08"),l=s("2f62"),d=s("76a0"),p=s("f121"),m={components:{DownloadBar:n["a"],Feedlist:c["a"],Spinner:d["Spinner"]},data:function(){return{loading:2,showDownload:!1,msg:"恭喜，您已成功入群"}},computed:Object(o["a"])({},Object(l["d"])("group",{group:function(t){return t.group},groupFeedList:function(t){return t.groupFeedList},groupFeedTitle:function(t){return t.groupFeedTitle}})),beforeMount:function(){var t=Object(a["a"])(regeneratorRuntime.mark(function t(){var e,s;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:if(!this.$route.params.id){t.next=6;break}return t.next=3,this.getGroupInfo({groupId:this.$route.params.id});case 3:this.$store.dispatch("wx_config"),e={flag:1,classid:this.$route.params.id,index:"",pagesize:5},this.getGroupList(e);case 6:if(!this.$route.query.code){t.next=12;break}return s={plateform:2,code:this.$route.query.code,protocol:"WEB_SOCKET",adid:Cookies.get("h5Adid")||"closer-t1"},console.log("params---",s),t.next=11,this.getUserInfoWithWx(s);case 11:"group"==sessionStorage.userAction&&(this.handleJoinGroup(),sessionStorage.userAction=null);case 12:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),methods:Object(o["a"])({},Object(l["b"])("common",["getWxAuth","getUserInfoWithWx"]),Object(l["b"])("group",["getGroupInfo","getGroupList","joinGroup"]),{fileUrlParse:function(t,e,s){return Object(u["f"])(t,e,s)},description:function(){try{return JSON.parse(this.$store.state.group.group.group_info.group.description)[0].content}catch(t){return this.$store.state.group.group.group_info.group.description}},announcement:function(){try{return JSON.parse(this.$store.state.group.group.group_info.announcement)[0].content}catch(t){return this.$store.group.group.state.group.group_info.announcement}},moreMember:function(){var t=Object(a["a"])(regeneratorRuntime.mark(function t(){var e;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:this.$store.commit("SET_EXTENSION_TEXT","more_group_member"),Cookies.get("token")?(e=p["a"].download,Object(u["d"])({store:this.$store,route:this.$route,str:"more_group_member",defaultStr:"",redirectUrl:e})):ENV.wx?(Object(u["d"])({store:this.$store,route:this.$route,str:"more_group_member",defaultStr:"",redirectUrl:"wx"}),this.getWxAuth({payload:{path:this.$route.path,query:this.$route.query}})):(this.$store.commit("GET_LOGIN_TYPE","toDown"),this.$store.commit("SET_VISIBLE_LOGIN",!0));case 2:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),downloadApp:function(){var t=Object(a["a"])(regeneratorRuntime.mark(function t(e,s,i){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:Object(u["d"])({store:this.$store,route:this.$route,str:s,defaultStr:"more_group_member"});case 1:case"end":return t.stop()}},t,this)}));return function(e,s,i){return t.apply(this,arguments)}}(),toCommunity:function(t){this.$router.push({path:"/community/".concat(t)})},handleJoinGroup:function(){var t=Object(a["a"])(regeneratorRuntime.mark(function t(){var e,s;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:if(e=this,1!=e.loading){t.next=3;break}return t.abrupt("return");case 3:if(e.loading=1,!Cookies.get("token")){t.next=13;break}return console.log("token"),t.next=8,this.joinGroup({classid:e.$route.params.id,join_limit:e.group.group_info.join_limit});case 8:s=t.sent,e.loading=2,s?(e.showDownload=!0,e.group.group_info.join_limit,e.msg="您的入群申请已提交~",setTimeout(downloadApp("enter_group"),2e3)):downloadApp("enter_group"),t.next=15;break;case 13:console.log("else"),e.ENV.wx?e.getWxAuth({payload:{path:e.$route.path,query:e.$route.query},before:function(){sessionStorage.userAction="group"}}):downloadApp("enter_group");case 15:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),handleDownload:function(){downloadApp()}})},g=m,f=(s("3734"),s("2877")),v=Object(f["a"])(g,i,r,!1,null,"0c1042ca",null);v.options.__file="index.vue";e["default"]=v.exports},edba:function(t,e,s){"use strict";var i=s("70cd"),r=s.n(i);r.a},fb25:function(t,e,s){"use strict";var i=function(){var t=this,e=t.$createElement,s=t._self._c||e;return t.ENV.app?t._e():s("section",{staticClass:"download-bar"},[t.placeholder?s("div",{staticClass:"place"}):t._e(),s("div",{staticClass:"wrap"},[s("div",{staticClass:"left"},[s("div",{staticClass:"left-logo"}),s("mt-swipe",{staticClass:"mtswipe left-desc",attrs:{auto:4e3,"show-indicators":!1}},[s("mt-swipe-item",[s("div",{staticClass:"swip-item"},[s("span",[t._v("贴近一点 看身边")])])]),s("mt-swipe-item",[s("div",{staticClass:"swip-item"},[s("span",[t._v("能赚稿费的本地内容社区")])])]),s("mt-swipe-item",[s("div",{staticClass:"swip-item"},[s("p",[t._v("打开贴近看资讯")]),s("p",[t._v("领10元红包")])])])],1)],1),s("div",{staticClass:"right"},[s("div",{staticClass:"right-btn",on:{click:function(e){t.handleClick("direct_top")}}},[t._v("下载贴近")])])])])},r=[],a=(s("7f7f"),s("2b0e")),o=s("ed08"),n=s("f121"),c=s("76a0");a["default"].component(c["Swipe"].name,c["Swipe"]),a["default"].component(c["SwipeItem"].name,c["SwipeItem"]);var u={name:"downloadBar",props:{placeholder:{type:Boolean,default:!0}},mounted:function(){},methods:{handleClick:function(t){var e=n["a"].download;Object(o["d"])({store:this.$store,route:this.$route,str:t,defaultStr:"direct_top",redirectUrl:e})}}},l=u,d=(s("edba"),s("2877")),p=Object(d["a"])(l,i,r,!1,null,"473d9c18",null);p.options.__file="downloadBar.vue";e["a"]=p.exports}}]);
//# sourceMappingURL=chunk-7abec76d.8e50d1a7.js.map