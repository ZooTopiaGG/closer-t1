(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-3a4c753b"],{"32d1":function(t,e,i){"use strict";var s=i("f2c2"),a=i.n(s);a.a},4843:function(t,e,i){},a0c8:function(t,e,i){"use strict";var s=i("4843"),a=i.n(s);a.a},e878:function(t,e,i){"use strict";i.r(e);var s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("download-bar"),t.subjectExist?i("div",[i("div",{staticClass:"comment"},[t.ENV.app?t._e():i("div",{staticClass:"title"},[t._v("\n        "+t._s(t.subject.title)+"\n      ")]),i("focus-bar"),i("div",{staticClass:"cover-box"},[i("img",{staticClass:"cover-img",attrs:{src:t.fileUrlParse(t.subject.bigcover||t.subject.cover),alt:"","data-index":"0"}})]),i("div",{directives:[{name:"lazy-container",rawName:"v-lazy-container",value:{selector:"img"},expression:"{ selector: 'img' }"}],staticClass:"content",domProps:{innerHTML:t._s(t.content.html)},on:{click:function(e){t.openClick(e)}}}),t._l(t.discuss,function(e,s){return i("div",{key:s,staticClass:"discuss"},[i("div",{staticClass:"discuss-content"},[i("div",{directives:[{name:"lazy",rawName:"v-lazy:background-image",value:t.fileUrlParse(e.avatar),expression:"fileUrlParse(item.avatar)",arg:"background-image"}],staticClass:"avatar"}),i("div",{staticClass:"info"},[i("div",{staticClass:"info-up"},[i("span",{staticClass:"nickname"},[t._v(t._s(e.nickname))])]),0===e.type?i("div",[e.weblink?i("div",{staticClass:"link",domProps:{innerHTML:t._s(e.newText)}}):i("div",{staticClass:"text"},[t._v("\n                "+t._s(e.text)+"\n              ")])]):1===e.type?i("div",[(t.ENV.app,i("img",{directives:[{name:"lazy",rawName:"v-lazy",value:t.fileUrlParse(e.image.link),expression:"fileUrlParse(item.image.link)"}],staticClass:"image",style:{height:73*e.image.height/e.image.width+"vw"},attrs:{src:t.defaultImg,"data-index":e.image.index},on:{click:function(e){t.tabImg(e)}}}))]):2===e.type?i("div",[t.ENV.app?i("div",{staticClass:"video",style:{background:"url("+e.video.imageUrl+") no-repeat center","background-size":"cover"},attrs:{"data-uid":e.video.src,"data-vid":e.video.vid},on:{click:function(e){t.openClick(e)}}},[i("div",{staticClass:"play-icon",attrs:{"data-uid":e.video.src,"data-vid":e.video.vid}})]):i("div",{staticClass:"video-out"},[i("video",{staticClass:"feed-video-bg",staticStyle:{"object-fit":"fill",width:"100%",height:"auto"},attrs:{src:e.video.src,preload:"auto","webkit-playsinline":"true","x-webkit-airplay":"true",playsinline:"true","data-duration":e.video.duration,poster:e.video.imageUrl,"data-bg":e.video.imageUrl}})])]):3===e.type?i("div",[i("div",{staticClass:"feed",on:{click:function(i){t.tofeed(e.feed.feedId)}}},[i("img",{staticClass:"feed-img",attrs:{src:t.fileUrlParse(e.feed.imageUrl)}}),i("div",{staticClass:"feed-info"},[i("div",{staticClass:"feed-title"},[t._v(t._s(e.feed.title))]),i("div",{staticClass:"feed-summary"},[t._v(t._s(e.feed.summary))])])])]):t._e()])]),i("div",{staticClass:"line"})])}),t.content.end_html?i("div",{directives:[{name:"lazy-container",rawName:"v-lazy-container",value:{selector:"img"},expression:"{ selector: 'img' }"}],staticClass:"content",domProps:{innerHTML:t._s(t.content.end_html)},on:{click:function(e){t.openClick(e)}}}):t._e(),i("author-bar")],2),i("like-bar",{staticClass:"like-bar"}),i("message-board"),i("feed-list",{attrs:{subjectList:t.hotSubjects}}),i("foot-bar"),i("preview-list",{attrs:{"preview-list":this.$store.state.preImgs,"preview-index":this.$store.state.preIndex,"preview-show":this.$store.state.preShow},on:{"preview-show":t.listenToMyChild}})],1):i("Notfound",{attrs:{isDelete:t.subject.bool_delete}})],1)},a=[],n=(i("96cf"),i("3040")),o=i("c93e"),c=i("ed08"),r=i("2f62"),d=i("4008"),l=i("26a9"),u=i("fb25"),v=i("c64e"),h=i("1a18"),A=i("d862"),m=i("c3f2"),f=i("545f"),p=function(){var t=this,e=t.$createElement,i=t._self._c||e;return t.previewShow?i("transition",{attrs:{name:"fade"},on:{click:t.leave}},[i("section",{staticClass:"lg-preview-wrapper",on:{click:t.leave,touchmove:t.touchmove,touchstart:t.touchstart,touchend:t.touchend}},[t.previewList[t.index]?i("img",{staticClass:"lg-preview-img",attrs:{src:t.previewList[t.index]}}):t._e(),i("section",{staticClass:"lg-preview-title"},[t._v("\n            "+t._s(parseInt(t.index)+1)+" / "+t._s(t.previewList.length)+"\n        ")])])]):t._e()},b=[],g={name:"Preview",props:["previewList","previewIndex","previewShow"],data:function(){return{imglist:[],index:this.previewIndex,startX:0,startY:0,moveX:0,moveY:0,endX:0,disX:0,disY:0,slideEffect:""}},methods:{touchstart:function(t){this.disX=0,this.disY=0,t=t||event,this.startX=t.touches[0].clientX,this.startY=t.touches[0].clientY},touchmove:function(t){t=t||event,this.moveX=t.touches[0].clientX,this.moveY=t.touches[0].clientY,this.disX=this.moveX-this.startX,this.disY=this.moveY-this.startY},touchend:function(){var t=Math.abs(this.disX),e=Math.abs(this.disY);if(t>e)if(this.disX<0)this.nextAction();else{if(!(this.disX>0))return;this.preAction()}},leave:function(t){this.$emit("preview-show",!1)},preAction:function(){0!==this.index&&this.index--},nextAction:function(){this.index!==this.previewList.length-1&&this.index++}}},w=g,x=(i("32d1"),i("2877")),C=Object(x["a"])(w,p,b,!1,null,"55541472",null);C.options.__file="previewList.vue";var k=C.exports,j={name:"commentIndex",components:{Notfound:d["a"],FeedList:l["a"],DownloadBar:u["a"],FocusBar:v["a"],LikeBar:h["a"],MessageBoard:A["a"],FootBar:m["a"],AuthorBar:f["a"],PreviewList:k},data:function(){return{defaultImg:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAu4AAAGmAQMAAAAZMJMVAAAABGdBTUEAALGPC/xhBQAAAAFzUkdCAK7OHOkAAAADUExURefn5ySG6Q8AAAA+SURBVHja7cExAQAAAMKg9U9tCj+gAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACAvwGcmgABBZ8R+wAAAABJRU5ErkJggg==",preIndex:0,preShow:!1}},created:function(){},computed:Object(o["a"])({},Object(r["d"])("comment",{subject:function(t){return t.subject},content:function(t){return t.content},discuss:function(t){return t.discuss},subjectExist:function(t){return t.subjectExist}}),Object(r["d"])("common",{hotSubjects:function(t){return t.hotSubjects}})),beforeMount:function(){this.$store.commit("GET_VERSION"),this.$store.commit("SET_ENTER_TIME",Date.now()),this.$store.state.h5Adid?Cookies.set("h5Adid",this.$store.state.h5Adid):Cookies.set("h5Adid","")},mounted:function(){var t=Object(n["a"])(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:if(console.log("params.id:",this.$route.params.id),!this.$route.params.id){t.next=7;break}return t.next=4,this.getSubject({subjectid:this.$route.params.id});case 4:this.$store.dispatch("wx_config"),this.getHotSubjects(),Object(c["c"])();case 7:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),methods:Object(o["a"])({},Object(r["b"])("common",["getHotSubjects"]),Object(r["b"])("comment",["getSubject"]),Object(r["b"])("common",["getHotSubjects"]),{fileUrlParse:function(t,e,i){return Object(c["i"])(t,e,i)},openClick:function(t){var e=t.target;console.log("openClick",e.dataset),e.dataset.vid&&e.dataset.uid?Object(c["b"])(e.dataset.uid,e.dataset.vid):e.dataset.index&&Object(c["l"])(e.dataset.index)},tabImg:function(t){window.ENV.app&&Object(c["l"])(t.target.dataset.index)},tofeed:function(t){ENV.app?location.href="closer://feed/".concat(t):this.$router.push({path:"/feed/".concat(t,"?type=2")})},listenToMyChild:function(t){this.preShow=t}})},_=j,y=(i("a0c8"),Object(x["a"])(_,s,a,!1,null,"3fb3d1da",null));y.options.__file="index.vue";e["default"]=y.exports},f2c2:function(t,e,i){}}]);
//# sourceMappingURL=chunk-3a4c753b.bb609ca2.js.map